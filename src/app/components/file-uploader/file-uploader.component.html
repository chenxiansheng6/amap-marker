<div class="grid grid-cols-3 grid-flow-row gap-3">
  @for (file of uploadFiles(); track file.name; let i = $index) {
    <div class="relative h-32 w-full rounded-lg overflow-hidden shadow">
      <img class="w-full h-full object-cover" [classList]="imgClassName()">
      <div class="absolute w-full h-full left-0 top-0">
        <img
          src="common/close.svg"
          class="w-10 h-10 absolute right-0 top-0 p-1 cursor-pointer"
          (click)="removeImage(i)">
      </div>
    </div>
  }

  @if (!hideArea() && uploadFiles().length < maxFiles()) {
    <label
      class="flex items-center justify-center h-32 w-full rounded-lg border-2 border-gray-300 border-dashed cursor-pointer"
      [for]="imgClassName()"
      (click)="onFileUploadTriggered()"
    >
      <svg
        class="fill-gray-300"
        viewBox="0 0 1024 1024"
        xmlns="http://www.w3.org/2000/svg"
        width="48" height="48"
      >
        <path d="M801.171 483.589H544V226.418c0-17.673-14.327-32-32-32s-32 14.327-32 32v257.171H222.83c-17.673 0-32 14.327-32 32s14.327 32 32 32H480v257.17c0 17.673 14.327 32 32 32s32-14.327 32-32v-257.17h257.171c17.673 0 32-14.327 32-32s-14.327-32-32-32z"></path>
      </svg>
    </label>
  }
  <input
    hidden
    type="file"
    [id]="imgClassName()"
    name="file-input"
    [accept]="accept()"
    [multiple]="multiple()"
    #fileInput
    (change)="onFileUpload($event)"
  >
</div>
